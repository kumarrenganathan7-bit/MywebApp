

You said:
clean up this code

ChatGPT said:
Sure üëç Please paste the code you want me to clean up.

I‚Äôll:

Fix errors

Improve readability

Simplify structure

Remove unnecessary parts

Optimize where possible

Send the code üë®‚Äçüíª


You said:
<!DOCTYPE html>
<html>
<head>
  <title>Kumar Web App</title>

  <style>
    body {
      font-family: 'Segoe UI', sans-serif;
      background: linear-gradient(135deg, #141E30, #243B55);
      display: flex;
      justify-content: center;
      align-items: center;
      height: 100vh;
      margin: 0;
    }

    .container {
      background: rgba(255, 255, 255, 0.08);
      backdrop-filter: blur(15px);
      padding: 40px;
      border-radius: 20px;
      width: 350px;
      text-align: center;
      box-shadow: 0 15px 35px rgba(0,0,0,0.4);
      color: white;
    }

    input {
      width: 100%;
      padding: 12px;
      margin: 10px 0;
      border-radius: 8px;
      border: none;
      outline: none;
      font-size: 14px;
    }

    button {
      padding: 12px;
      width: 100%;
      border-radius: 8px;
      border: none;
      margin-top: 10px;
      font-size: 14px;
      font-weight: 600;
      cursor: pointer;
      transition: 0.3s;
    }

    #loginBtn { background: #00c6ff; color: white; }
    #signupBtn { background: #28a745; color: white; }
    #resetBtn { background: transparent; color: #ccc; font-size: 12px; }
    #logoutBtn { background: #dc3545; color: white; }
    #uploadBtn { background: #ffc107; }

    #imageList img {
      width: 100%;
      margin-top: 10px;
      border-radius: 10px;
    }

    #dashboard { display: none; }
  </style>
</head>

<body>

<!-- AUTH SECTION -->
<div class="container" id="auth">
  <h2>Login</h2>
  <input type="email" id="email" placeholder="Email Address">
  <input type="password" id="password" placeholder="Password">
  <button id="loginBtn">Login</button>
  <button id="signupBtn">Sign Up</button>
  <button id="resetBtn">Forgot Password</button>
</div>

<!-- DASHBOARD -->
<div class="container" id="dashboard">
  <h2>Welcome, <span id="userDisplay"></span> üëã</h2>
  <button id="logoutBtn">Logout</button>

  <hr>

  <h3>Upload Image</h3>
  <input type="file" id="imageInput">
  <button id="uploadBtn">Upload</button>

  <h3>All Images</h3>
  <div id="imageList"></div>
</div>

<script type="module">
import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
import { 
  getAuth,
  createUserWithEmailAndPassword,
  signInWithEmailAndPassword,
  signOut,
  sendPasswordResetEmail,
  onAuthStateChanged
} from "https://www.gstatic.com/firebasejs/10.7.1/firebase-auth.js";

import { 
  getStorage, 
  ref, 
  uploadBytes, 
  getDownloadURL 
} from "https://www.gstatic.com/firebasejs/10.7.1/firebase-storage.js";

import { 
  getFirestore, 
  collection, 
  addDoc, 
  getDocs 
} from "https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js";


/* üî• YOUR FIREBASE CONFIG */
const firebaseConfig = {
  apiKey: "AIzaSyB-Z1hE29BE_Ui55aLVvBW4iDzU05jwupY",
  authDomain: "teams-portal-8a8ad.firebaseapp.com",
  projectId: "teams-portal-8a8ad",
  storageBucket: "teams-portal-8a8ad.firebasestorage.app",
  messagingSenderId: "723650924156",
  appId: "1:723650924156:web:7a5dd56e309c49e23803f9",
  measurementId: "G-76N6QSCFH8"
};
const app = initializeApp(firebaseConfig);
const auth = getAuth(app);
const storage = getStorage(app);
const db = getFirestore(app);


/* AUTH STATE */
onAuthStateChanged(auth, (user) => {
  if (user) {
    document.getElementById("auth").style.display = "none";
    document.getElementById("dashboard").style.display = "block";
    document.getElementById("userDisplay").innerText = user.email;
    loadImages();
  } else {
    document.getElementById("auth").style.display = "block";
    document.getElementById("dashboard").style.display = "none";
  }
});


/* SIGN UP */
document.getElementById("signupBtn").addEventListener("click", () => {
  const email = emailInput();
  const password = passwordInput();

  createUserWithEmailAndPassword(auth, email, password)
    .then(() => alert("Account created successfully!"))
    .catch(error => alert(error.message));
});


/* LOGIN */
document.getElementById("loginBtn").addEventListener("click", () => {
  const email = emailInput();
  const password = passwordInput();

  signInWithEmailAndPassword(auth, email, password)
    .catch(error => alert(error.message));
});


/* LOGOUT */
document.getElementById("logoutBtn").addEventListener("click", () => {
  signOut(auth);
});


/* RESET PASSWORD */
document.getElementById("resetBtn").addEventListener("click", () => {
  const email = emailInput();

  if (!email) {
    alert("Enter your email first.");
    return;
  }

  sendPasswordResetEmail(auth, email)
    .then(() => alert("Password reset email sent!"))
    .catch(error => alert(error.message));
});


/* IMAGE UPLOAD */
document.getElementById("uploadBtn").addEventListener("click", async () => {
  const file = document.getElementById("imageInput").files[0];

  if (!file) {
    alert("Select an image first.");
    return;
  }

  const storageRef = ref(storage, "images/" + Date.now() + file.name);

  await uploadBytes(storageRef, file);
  const downloadURL = await getDownloadURL(storageRef);

  await addDoc(collection(db, "images"), {
    imageUrl: downloadURL,
    user: auth.currentUser.email
  });

  alert("Image uploaded!");
  loadImages();
});


/* LOAD IMAGES */
async function loadImages() {
  const snapshot = await getDocs(collection(db, "images"));
  const imageList = document.getElementById("imageList");
  imageList.innerHTML = "";

  snapshot.forEach(doc => {
    const data = doc.data();
    imageList.innerHTML += 
      <div>
        <p>${data.user}</p>
        <img src="${data.imageUrl}">
      </div>
    ;
  });
}


/* HELPERS */
function emailInput() {
  return document.getElementById("email").value;
}

function passwordInput() {
  return document.getElementById("password").value;
}

</script>

</body>
</html>

ChatGPT said:
Good news Kumar üëç ‚Äî your code is actually structured well.
I cleaned it up to make it:

‚úÖ More secure (removed exposed config from example)

‚úÖ More readable

‚úÖ More maintainable

‚úÖ Less repetitive DOM calls

‚úÖ Safer image rendering (no innerHTML injection)

‚úÖ Better async error handling

‚úÖ Cleaner UI toggle logic

‚úÖ Cleaned & Improved Version
<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>Kumar Web App</title>

<style>
  body {
    font-family: 'Segoe UI', sans-serif;
    background: linear-gradient(135deg, #141E30, #243B55);
    display: flex;
    justify-content: center;
    align-items: center;
    height: 100vh;
    margin: 0;
  }

  .container {
    background: rgba(255, 255, 255, 0.08);
    backdrop-filter: blur(15px);
    padding: 40px;
    border-radius: 20px;
    width: 350px;
    text-align: center;
    box-shadow: 0 15px 35px rgba(0,0,0,0.4);
    color: white;
  }

  input, button {
    width: 100%;
    padding: 12px;
    margin: 10px 0;
    border-radius: 8px;
    border: none;
    font-size: 14px;
  }

  input {
    outline: none;
  }

  button {
    font-weight: 600;
    cursor: pointer;
    transition: 0.3s;
  }

  #loginBtn { background: #00c6ff; color: white; }
  #signupBtn { background: #28a745; color: white; }
  #resetBtn { background: transparent; color: #ccc; font-size: 12px; }
  #logoutBtn { background: #dc3545; color: white; }
  #uploadBtn { background: #ffc107; }

  #dashboard { display: none; }

  #imageList img {
    width: 100%;
    margin-top: 10px;
    border-radius: 10px;
  }

  hr { opacity: 0.2; }
</style>
</head>

<body>

<div class="container" id="auth">
  <h2>Login</h2>
  <input type="email" id="email" placeholder="Email Address" required>
  <input type="password" id="password" placeholder="Password" required>
  <button id="loginBtn">Login</button>
  <button id="signupBtn">Sign Up</button>
  <button id="resetBtn">Forgot Password</button>
</div>

<div class="container" id="dashboard">
  <h2>Welcome, <span id="userDisplay"></span> üëã</h2>
  <button id="logoutBtn">Logout</button>

  <hr>

  <h3>Upload Image</h3>
  <input type="file" id="imageInput" accept="image/*">
  <button id="uploadBtn">Upload</button>

  <h3>All Images</h3>
  <div id="imageList"></div>
</div>

<script type="module">
import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
import { getAuth, createUserWithEmailAndPassword, signInWithEmailAndPassword, signOut, sendPasswordResetEmail, onAuthStateChanged } 
from "https://www.gstatic.com/firebasejs/10.7.1/firebase-auth.js";
import { getStorage, ref, uploadBytes, getDownloadURL } 
from "https://www.gstatic.com/firebasejs/10.7.1/firebase-storage.js";
import { getFirestore, collection, addDoc, getDocs } 
from "https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js";

/* üî• Firebase Config */
const firebaseConfig = {
  apiKey: "YOUR_API_KEY",
  authDomain: "YOUR_DOMAIN",
  projectId: "YOUR_PROJECT_ID",
  storageBucket: "YOUR_BUCKET",
  messagingSenderId: "YOUR_SENDER_ID",
  appId: "YOUR_APP_ID"
};

const app = initializeApp(firebaseConfig);
const auth = getAuth(app);
const storage = getStorage(app);
const db = getFirestore(app);

/* DOM Elements */
const authSection = document.getElementById("auth");
const dashboard = document.getElementById("dashboard");
const emailEl = document.getElementById("email");
const passwordEl = document.getElementById("password");
const userDisplay = document.getElementById("userDisplay");
const imageList = document.getElementById("imageList");

/* Auth State Listener */
onAuthStateChanged(auth, user => {
  if (user) {
    toggleUI(true);
    userDisplay.textContent = user.email;
    loadImages();
  } else {
    toggleUI(false);
  }
});

function toggleUI(isLoggedIn) {
  authSection.style.display = isLoggedIn ? "none" : "block";
  dashboard.style.display = isLoggedIn ? "block" : "none";
}

/* Auth Functions */
document.getElementById("signupBtn").onclick = async () => {
  try {
    await createUserWithEmailAndPassword(auth, emailEl.value, passwordEl.value);
    alert("Account created!");
  } catch (err) {
    alert(err.message);
  }
};

document.getElementById("loginBtn").onclick = async () => {
  try {
    await signInWithEmailAndPassword(auth, emailEl.value, passwordEl.value);
  } catch (err) {
    alert(err.message);
  }
};

document.getElementById("logoutBtn").onclick = () => signOut(auth);

document.getElementById("resetBtn").onclick = async () => {
  if (!emailEl.value) return alert("Enter your email first.");
  try {
    await sendPasswordResetEmail(auth, emailEl.value);
    alert("Password reset email sent!");
  } catch (err) {
    alert(err.message);
  }
};

/* Image Upload */
document.getElementById("uploadBtn").onclick = async () => {
  const file = document.getElementById("imageInput").files[0];
  if (!file) return alert("Select an image first.");

  try {
    const storageRef = ref(storage, `images/${Date.now()}_${file.name}`);
    await uploadBytes(storageRef, file);
    const url = await getDownloadURL(storageRef);

    await addDoc(collection(db, "images"), {
      imageUrl: url,
      user: auth.currentUser.email,
      createdAt: new Date()
    });

    alert("Upload successful!");
    loadImages();
  } catch (err) {
    alert(err.message);
  }
};

/* Load Images */
async function loadImages() {
  imageList.innerHTML = "";
  const snapshot = await getDocs(collection(db, "images"));

  snapshot.forEach(doc => {
    const { imageUrl, user } = doc.data();

    const wrapper = document.createElement("div");
    const userText = document.createElement("p");
    const img = document.createElement("img");

    userText.textContent = user;
    img.src = imageUrl;

    wrapper.appendChild(userText);
    wrapper.appendChild(img);
    imageList.appendChild(wrapper);
  });
}
</script>

</body>
</html>
